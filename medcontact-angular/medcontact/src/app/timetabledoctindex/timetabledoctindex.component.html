<div class="container">
  <div class="row">
   <div class="col-sm-6">
             <h2>Doctor: {{model?.doctorInfo?.name}} {{model?.doctorInfo?.surname}}</h2>
             <h4>Speciality: {{model?.doctorInfo?.speciality}}</h4>
             <div *ngIf="model?.flag!>=1">  <!-- @*Admin & Doctor*@ -->
              <p> <a href="~/daytimetable/create/?dataid={{model?.doctorInfo?.doctorDataId!}}&uid={{model?.user?.id!}}&reflink={{model?.reflink!}}">Create New DayTimeTable</a> </p>
             </div>
   </div>
  <div class="col-sm-6" *ngIf="model?.flag==2 && model?.user">  <!-- @*Doctor re-appoints patients*@ -->

                 <h4 class="justify-content-end">Customer: {{model?.user?.name}} {{model?.user?.surname}}</h4>
                 <h6 class ="justify-content-end">Appointment creation </h6>
                 <h6>User Id: {{model?.user?.id}}</h6>
 </div>

 </div>
 </div>

 <hr />
 <div *ngIf="dataSource">

  <div class="spinner-container" *ngIf="dataSource.loading$ | async">
    <mat-spinner></mat-spinner>
  </div>

  <table  mat-table class="ttdoctindex-table mat-elevation-z8" [dataSource]="dataSource"
          matSort matSortActive="date" matSortDirection="desc" matSortDisableClear>

    <ng-container matColumnDef="date">
      <mat-header-cell *matHeaderCellDef mat-sort-header>Date</mat-header-cell>
      <mat-cell *matCellDef="let dttable">{{dttable.date | date:'dd/MM/yyyy'}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="startWorkTime">
    <mat-header-cell *matHeaderCellDef>Start WorkTime</mat-header-cell>
    <mat-cell class="startWorkTime-cell"
              *matCellDef="let dttable">{{dttable.startWorkTime | date: 'HH:mm'}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="finishWorkTime">
      <mat-header-cell *matHeaderCellDef>Finish WorkTime</mat-header-cell>
      <mat-cell class="finishWorkTime-cell"
                *matCellDef="let dttable">{{dttable.finishWorkTime | date: 'HH:mm'}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="consultDuration">
      <mat-header-cell *matHeaderCellDef>Consult Duration</mat-header-cell>
      <mat-cell class="consultDuration-cell"
                *matCellDef="let dttable">{{dttable.consultDuration}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="totalTicketQty">
      <mat-header-cell *matHeaderCellDef>Total Ticket Quantity</mat-header-cell>
      <mat-cell class="totalTicketQty-cell"
                *matCellDef="let dttable">{{dttable.totalTicketQty}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="freeTicketQty">
      <mat-header-cell *matHeaderCellDef>Free Ticket Quantity</mat-header-cell>
      <mat-cell class="freeTicketQty-cell"
                *matCellDef="let dttable">{{dttable.freeTicketQty}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="creationDate">
      <mat-header-cell *matHeaderCellDef>Creation Date</mat-header-cell>
      <mat-cell class="creationDate-cell"
                *matCellDef="let dttable">{{dttable.creationDate | date:'dd/MM/yyyy'}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="details">
      <mat-header-cell *matHeaderCellDef>Details</mat-header-cell>
      <mat-cell class="details-cell" *matCellDef="let dttable">
          <!--@*Doctor re-appoints patients*@ -->
          <span *ngIf="model?.flag==2 && model?.user"> <a href="~/appointment/createindex/?id={{dttable.id}}&uid={{dttable?.user?.id}}&reflink={{dttable?.reflink}}">Add an appointment</a></span>
          <!-- @*Admin & Doctor*@ -->
          <div *ngIf="model?.flag!>=1; else other">
          <span><a href="~/appointment/viewindex/?id={{dttable.id}}&reflink={{dttable?.reflink}}">View appointments</a></span>
          </div>
          <!-- @*Customer*@ -->
          <ng-template #other>
          <span> <a href="~/appointment/createindex/?id={{dttable.id}}&reflink={{dttable?.reflink}}">Add an appointment</a></span>
          </ng-template>
      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>

    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>

  </table>
 </div>

<br/>
<div class="back">
  <button mat-raised-button (click)="goBack()">
    <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="arrow_back"></mat-icon>Back
  </button>
</div>

<mat-paginator [length]="model?.pageViewModel?.count"
               [pageSize]="model?.pageViewModel?.pageSize"
               [pageIndex]="model?.pageViewModel?.pageNumber"
               [pageSizeOptions]="[2,5, 10, 25, 100]">
</mat-paginator>

<!-- <mat-paginator [length]="course?.lessonsCount" [pageSize]="3"
[pageSizeOptions]="[3, 5, 10]"></mat-paginator> -->


